#ddev-generated
# local-auth.yaml
#
# Defines a reusable Traefik BasicAuth middleware that can be
# referenced by any router (project-level or global).
#
# This is especially useful to:
# - Protect all DDEV sites on a shared machine
# - Lock down demo environments
# - Prevent accidental public exposure
#
# Username: dev
# Password: devpassword
#
# Password hash was generated with:
#   htpasswd -nb dev devpassword
#
# IMPORTANT:
# - The password is NOT stored in plaintext
# - Traefik supports bcrypt, md5 (apr1), and SHA1 hashes

http:
  middlewares:
    local-auth:
      basicAuth:
        # List of "user:hash" entries
        users:
          # dev / devpassword
          #
          # This is an APR1-MD5 hash generated by htpasswd.
          # You can regenerate it with:
          #   htpasswd -nb dev devpassword
          #
          # Output example:
          #   dev:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/
          #
          - "dev:$apr1$USa0wrBY$4VW5qW49qAeo7EiQRf4kf0"

        # Optional: remove the Authorization header before
        # forwarding the request to the backend container.
        # Recommended unless your app explicitly needs it.
        removeHeader: true
