name: Check docs
on:
  push:
    branches:
    - master
  pull_request:
    paths:
    - "docs/**"
    - "index.md"
    - ".spellcheckwordlist.txt"
    - ".spellcheck.yml"

jobs:
  build:
    name: Spellcheck
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - uses: rojopolis/spellcheck-github-actions@0.8.0
      name: Spellcheck
    - name: Run markdownlint on docs
      uses: docker://avtodev/markdown-lint:v1
      with:
#        rules: '.markdownlintrc'
        config: '.markdownlintrc'
        args: '*.md docs'
    - name: Test mkdocs
      run: |
        sudo pip3 install -q mkdocs==0.17.5
        mkdocs -q build -d /tmp/mkdocsbuild
